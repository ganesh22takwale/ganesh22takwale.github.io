<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reliability Tycoon — GRT Lab</title>
  <meta name="description" content="Simulate reliability trade-offs and see business impact." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <script defer src="lab.js"></script>
</head>
<body data-theme="dark">
  <header class="nav">
    <a class="brand" href="index.html">
      <img src="assets/logo-primary.svg" alt="GRT Logo" class="logo" />
      <span class="brand-text">GRT Lab</span>
    </a>
    <nav class="nav-links">
      <a href="index.html#services">Services</a>
      <a href="index.html#pricing">Pricing</a>
      <a class="cta" href="index.html#book">Book</a>
      <button id="themeToggle" aria-label="Toggle theme">◐</button>
    </nav>
  </header>

  <section class="hero compact">
    <h1>Reliability Tycoon</h1>
    <p>Allocate budget across clarity, reliability, and speed—then ship and see the outcome.</p>
  </section>

  <main class="lab">
    <div class="sim-grid">
      <div class="sim-controls card">
        <h2>Budget allocation</h2>
        <label><span>Clarity (Docs, UX)</span><input type="range" id="clarity" min="0" max="100" value="33"></label>
        <label><span>Reliability (Testing, Observability)</span><input type="range" id="reliability" min="0" max="100" value="34"></label>
        <label><span>Speed (Performance, Delivery)</span><input type="range" id="speed" min="0" max="100" value="33"></label>
        <div class="alloc-summary">
          <span>Total: <strong id="total">100</strong>%</span>
          <button class="btn secondary" id="balanceBtn">Balance</button>
        </div>
        <button class="btn primary" id="runBtn">Ship release</button>
      </div>

      <div class="sim-output card">
        <h2>Outcome</h2>
        <canvas id="outcomeChart" width="480" height="240" aria-label="Outcome chart"></canvas>
        <div class="kpis">
          <div><strong>Client satisfaction:</strong> <span id="sat">—</span></div>
          <div><strong>Uptime:</strong> <span id="uptime">—</span></div>
          <div><strong>Conversion lift:</strong> <span id="conv">—</span></div>
          <div><strong>Revenue impact:</strong> <span id="rev">—</span></div>
        </div>
        <p class="tip">Tip: Higher clarity reduces churn; reliability protects uptime; speed boosts conversions—but balance matters.</p>
        <a class="btn ghost" href="index.html#book">Turn this into a real project</a>
      </div>

      <div class="sim-context card">
        <h2>Scenario context</h2>
        <p id="scenarioText">Loading scenario from site information…</p>
        <button class="btn secondary" id="newScenario">New scenario</button>
      </div>
    </div>
  </main>

  <footer class="footer">
    <p class="legal">© <span id="year"></span> GRT Lab.</p>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    const toggle = document.getElementById('themeToggle');
    toggle.addEventListener('click', () => {
      const next = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
      document.body.dataset.theme = next;
      localStorage.setItem('grt-theme', next);
    });
    const savedTheme = localStorage.getItem('grt-theme');
    if (savedTheme) document.body.dataset.theme = savedTheme;
  </script>
</body>
</html>
